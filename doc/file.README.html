<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; TwelvedataRuby Documentation
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1 id="twelvedataruby">TwelvedataRuby</h1>

<p><a href="https://badge.fury.io/rb/ruby"><img src="https://badge.fury.io/rb/ruby.svg?icon=si%3Arubygems" alt="Gem Version" /></a></p>

<p>A Ruby client library for accessing <a href="https://twelvedata.com">Twelve Dataâ€™s</a> comprehensive financial API. Get real-time and historical data for stocks, forex, cryptocurrencies, ETFs, indices, and more.</p>

<h2 id="features">Features</h2>

<ul>
  <li>ğŸš€ <strong>Modern Ruby</strong> - Requires Ruby 3.4.0+, follows modern Ruby practices</li>
  <li>ğŸ“ˆ <strong>Comprehensive API Coverage</strong> - All Twelve Data endpoints supported</li>
  <li>ğŸ”’ <strong>Type Safety</strong> - Strong parameter validation and error handling</li>
  <li>ğŸ“Š <strong>Multiple Formats</strong> - JSON and CSV response formats</li>
  <li>ğŸ§ª <strong>Well Tested</strong> - 100% test coverage</li>
  <li>ğŸ”§ <strong>Developer Friendly</strong> - Excellent error messages and debugging support</li>
  <li>âš¡ <strong>High Performance</strong> - Built on HTTPX for concurrent requests</li>
</ul>

<h2 id="installation">Installation</h2>

<p>Add this line to your applicationâ€™s Gemfile:</p>

<p><code>ruby
gem 'twelvedata_ruby'
</code></p>

<p>And then execute:</p>

<p><code>bash
bundle install
</code></p>

<p>Or install it yourself as:</p>

<p><code>bash
gem install twelvedata_ruby
</code></p>

<h2 id="quick-start">Quick Start</h2>

<h3 id="get-your-api-key">1. Get Your API Key</h3>

<p>Sign up for a free API key at <a href="https://twelvedata.com/pricing">Twelve Data</a>.</p>

<h3 id="basic-usage">2. Basic Usage</h3>

<p>```ruby
require â€˜twelvedata_rubyâ€™</p>

<h1 id="option-1-configure-with-api-key-directly">Option 1: Configure with API key directly</h1>
<p>client = TwelvedataRuby.client(apikey: â€œyour-api-key-hereâ€)</p>

<h1 id="option-2-use-environment-variable-recommended">Option 2: Use environment variable (recommended)</h1>
<p>ENV[â€˜TWELVEDATA_API_KEYâ€™] = â€˜your-api-key-hereâ€™
client = TwelvedataRuby.client</p>

<h1 id="get-a-stock-quote">Get a stock quote</h1>
<p>response = client.quote(symbol: â€œAAPLâ€)
puts response.parsed_body
# =&gt; {
#   symbol: â€œAAPLâ€,
#   name: â€œApple Incâ€,
#   exchange: â€œNASDAQâ€,
#   currency: â€œUSDâ€,
#   datetime: â€œ2024-01-15â€,
#   open: â€œ185.00â€,
#   high: â€œ187.50â€,
#   low: â€œ184.20â€,
#   close: â€œ186.75â€,
#   volume: â€œ45678900â€,
#   â€¦
# }
```</p>

<h2 id="api-reference">API Reference</h2>

<h3 id="stock-market-data">Stock Market Data</h3>

<p>```ruby
# Real-time quote
client.quote(symbol: â€œAAPLâ€)
client.quote(symbol: â€œGOOGLâ€, exchange: â€œNASDAQâ€)</p>

<h1 id="current-price-only">Current price only</h1>
<p>client.price(symbol: â€œTSLAâ€)</p>

<h1 id="historical-time-series-data">Historical time series data</h1>
<p>client.time_series(
  symbol: â€œAAPLâ€,
  interval: â€œ1dayâ€,
  start_date: â€œ2024-01-01â€,
  end_date: â€œ2024-01-31â€
)</p>

<h1 id="end-of-day-prices">End of day prices</h1>
<p>client.eod(symbol: â€œMSFTâ€)</p>

<h1 id="search-for-symbols">Search for symbols</h1>
<p>client.symbol_search(symbol: â€œAppleâ€)
```</p>

<h3 id="forex--currency">Forex &amp; Currency</h3>

<p>```ruby
# Exchange rates
client.exchange_rate(symbol: â€œUSD/EURâ€)</p>

<h1 id="currency-conversion">Currency conversion</h1>
<p>client.currency_conversion(symbol: â€œUSD/EURâ€, amount: 100)</p>

<h1 id="available-forex-pairs">Available forex pairs</h1>
<p>client.forex_pairs
```</p>

<h3 id="cryptocurrency">Cryptocurrency</h3>

<p>```ruby
# Crypto quotes
client.quote(symbol: â€œBTC/USDâ€)</p>

<h1 id="available-cryptocurrencies">Available cryptocurrencies</h1>
<p>client.cryptocurrencies</p>

<h1 id="crypto-exchanges">Crypto exchanges</h1>
<p>client.cryptocurrency_exchanges
```</p>

<h3 id="market-reference-data">Market Reference Data</h3>

<p>```ruby
# Available stocks
client.stocks(exchange: â€œNASDAQâ€)</p>

<h1 id="etf-information">ETF information</h1>
<p>client.etf</p>

<h1 id="market-indices">Market indices</h1>
<p>client.indices</p>

<h1 id="stock-exchanges">Stock exchanges</h1>
<p>client.exchanges</p>

<h1 id="technical-indicators">Technical indicators</h1>
<p>client.technical_indicators
```</p>

<h3 id="account--usage">Account &amp; Usage</h3>

<p><code>ruby
# Check API usage
usage = client.api_usage
puts "Current usage: #{usage.parsed_body[:current_usage]}/#{usage.parsed_body[:plan_limit]}"
</code></p>

<h2 id="advanced-usage">Advanced Usage</h2>

<h3 id="response-formats">Response Formats</h3>

<p>```ruby
# JSON response (default)
response = client.quote(symbol: â€œAAPLâ€, format: :json)
data = response.parsed_body # Hash</p>

<h1 id="csv-response">CSV response</h1>
<p>response = client.quote(symbol: â€œAAPLâ€, format: :csv)
table = response.parsed_body # CSV::Table</p>

<h1 id="save-csv-to-file">Save CSV to file</h1>
<p>response = client.time_series(
  symbol: â€œAAPLâ€,
  interval: â€œ1dayâ€,
  format: :csv,
  filename: â€œapple_daily.csvâ€
)
response.save_to_file(â€œ./data/apple_data.csvâ€)
```</p>

<h3 id="error-handling">Error Handling</h3>

<p>```ruby
response = client.quote(symbol: â€œINVALIDâ€)</p>

<p>if response.error
  case response.error
  when TwelvedataRuby::UnauthorizedResponseError
    puts â€œInvalid API keyâ€
  when TwelvedataRuby::NotFoundResponseError
    puts â€œSymbol not foundâ€
  when TwelvedataRuby::TooManyRequestsResponseError
    puts â€œRate limit exceededâ€
  else
    puts â€œError: #responseresponse.errorresponse.error.messageâ€
  end
else
  puts response.parsed_body
end
```</p>

<h3 id="configuration-options">Configuration Options</h3>

<p>```ruby
client = TwelvedataRuby.client(
  apikey: â€œyour-api-keyâ€,
  connect_timeout: 5000,  # milliseconds
  apikey_env_var_name: â€œCUSTOM_API_KEY_VARâ€
)</p>

<h1 id="update-configuration-later">Update configuration later</h1>
<p>client.configure(connect_timeout: 10000)</p>

<h1 id="or-set-individual-options">Or set individual options</h1>
<p>client.apikey = â€œnew-api-keyâ€
client.connect_timeout = 3000
```</p>

<h3 id="concurrent-requests">Concurrent Requests</h3>

<p>```ruby
# Create multiple requests
requests = [
  TwelvedataRuby::Request.new(:quote, symbol: â€œAAPLâ€),
  TwelvedataRuby::Request.new(:quote, symbol: â€œGOOGLâ€),
  TwelvedataRuby::Request.new(:quote, symbol: â€œMSFTâ€)
]</p>

<h1 id="send-them-concurrently">Send them concurrently</h1>
<p>responses = TwelvedataRuby::Client.request(requests)
responses.each_with_index do |http_response, index|
  response = TwelvedataRuby::Response.resolve(http_response, requests[index])
  puts â€œ#requests[index].query_params[:symbol]: #response.parsed_body[:close]â€
end
```</p>

<h3 id="complex-data-queries">Complex Data Queries</h3>

<p><code>ruby
# POST request for complex data
response = client.complex_data(
  symbols: "AAPL,GOOGL,MSFT",
  intervals: "1day,1week",
  start_date: "2024-01-01",
  end_date: "2024-01-31",
  methods: "time_series"
)
</code></p>

<h2 id="response-objects">Response Objects</h2>

<h3 id="response-methods">Response Methods</h3>

<p>```ruby
response = client.quote(symbol: â€œAAPLâ€)</p>

<h1 id="response-status">Response status</h1>
<p>response.success?           # =&gt; true/false
response.http_status_code   # =&gt; 200
response.status_code        # =&gt; API status code</p>

<h1 id="content-information">Content information</h1>
<p>response.content_type       # =&gt; :json, :csv, :plain
response.body_bytesize      # =&gt; response size in bytes</p>

<h1 id="parsed-data">Parsed data</h1>
<p>response.parsed_body        # =&gt; Hash, CSV::Table, or String
response.body              # =&gt; alias for parsed_body</p>

<h1 id="error-information">Error information</h1>
<p>response.error             # =&gt; nil or ResponseError instance</p>

<h1 id="file-operations">File operations</h1>
<p>response.attachment_filename  # =&gt; â€œfilename.csvâ€ if present
response.save_to_file(â€œpath/to/file.csvâ€)
response.dump_parsed_body     # =&gt; serialized content</p>

<h1 id="debugging">Debugging</h1>
<p>response.to_s              # =&gt; human-readable summary
response.inspect           # =&gt; detailed inspection
```</p>

<h3 id="error-types">Error Types</h3>

<p>```ruby
# Base error types
TwelvedataRuby::Error                    # Base error class
TwelvedataRuby::ConfigurationError       # Configuration issues
TwelvedataRuby::NetworkError            # Network connectivity issues</p>

<h1 id="api-endpoint-errors">API endpoint errors</h1>
<p>TwelvedataRuby::EndpointError           # Invalid endpoint usage
TwelvedataRuby::EndpointNameError       # Invalid endpoint name
TwelvedataRuby::EndpointParametersKeysError     # Invalid parameters
TwelvedataRuby::EndpointRequiredParametersError # Missing required parameters</p>

<h1 id="api-response-errors">API response errors</h1>
<p>TwelvedataRuby::ResponseError           # Base response error
TwelvedataRuby::BadRequestResponseError         # 400 errors
TwelvedataRuby::UnauthorizedResponseError       # 401 errors
TwelvedataRuby::ForbiddenResponseError          # 403 errors
TwelvedataRuby::NotFoundResponseError           # 404 errors
TwelvedataRuby::TooManyRequestsResponseError    # 429 errors
TwelvedataRuby::InternalServerResponseError     # 500 errors
```</p>

<h2 id="available-endpoints">Available Endpoints</h2>

<table>
  <thead>
    <tr>
      <th>Endpoint</th>
      <th>Method</th>
      <th>Required Parameters</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>quote</code></td>
      <td>GET</td>
      <td><code>symbol</code></td>
      <td>Real-time stock quote</td>
    </tr>
    <tr>
      <td><code>price</code></td>
      <td>GET</td>
      <td><code>symbol</code></td>
      <td>Current stock price</td>
    </tr>
    <tr>
      <td><code>time_series</code></td>
      <td>GET</td>
      <td><code>symbol</code>, <code>interval</code></td>
      <td>Historical price data</td>
    </tr>
    <tr>
      <td><code>eod</code></td>
      <td>GET</td>
      <td><code>symbol</code></td>
      <td>End of day price</td>
    </tr>
    <tr>
      <td><code>exchange_rate</code></td>
      <td>GET</td>
      <td><code>symbol</code></td>
      <td>Forex exchange rate</td>
    </tr>
    <tr>
      <td><code>currency_conversion</code></td>
      <td>GET</td>
      <td><code>symbol</code>, <code>amount</code></td>
      <td>Currency conversion</td>
    </tr>
    <tr>
      <td><code>symbol_search</code></td>
      <td>GET</td>
      <td><code>symbol</code></td>
      <td>Search for symbols</td>
    </tr>
    <tr>
      <td><code>earliest_timestamp</code></td>
      <td>GET</td>
      <td><code>symbol</code>, <code>interval</code></td>
      <td>Earliest available data</td>
    </tr>
    <tr>
      <td><code>api_usage</code></td>
      <td>GET</td>
      <td>-</td>
      <td>API usage statistics</td>
    </tr>
    <tr>
      <td><code>stocks</code></td>
      <td>GET</td>
      <td>-</td>
      <td>Available stocks</td>
    </tr>
    <tr>
      <td><code>forex_pairs</code></td>
      <td>GET</td>
      <td>-</td>
      <td>Available forex pairs</td>
    </tr>
    <tr>
      <td><code>cryptocurrencies</code></td>
      <td>GET</td>
      <td>-</td>
      <td>Available cryptocurrencies</td>
    </tr>
    <tr>
      <td><code>etf</code></td>
      <td>GET</td>
      <td>-</td>
      <td>Available ETFs</td>
    </tr>
    <tr>
      <td><code>indices</code></td>
      <td>GET</td>
      <td>-</td>
      <td>Available indices</td>
    </tr>
    <tr>
      <td><code>exchanges</code></td>
      <td>GET</td>
      <td>-</td>
      <td>Available exchanges</td>
    </tr>
    <tr>
      <td><code>cryptocurrency_exchanges</code></td>
      <td>GET</td>
      <td>-</td>
      <td>Available crypto exchanges</td>
    </tr>
    <tr>
      <td><code>technical_indicators</code></td>
      <td>GET</td>
      <td>-</td>
      <td>Available indicators</td>
    </tr>
    <tr>
      <td><code>earnings</code></td>
      <td>GET</td>
      <td><code>symbol</code></td>
      <td>Earnings data</td>
    </tr>
    <tr>
      <td><code>earnings_calendar</code></td>
      <td>GET</td>
      <td>-</td>
      <td>Earnings calendar</td>
    </tr>
    <tr>
      <td><code>complex_data</code></td>
      <td>POST</td>
      <td><code>symbols</code>, <code>intervals</code>, <code>start_date</code>, <code>end_date</code></td>
      <td>Complex data queries</td>
    </tr>
  </tbody>
</table>

<p>For complete parameter documentation, visit <a href="https://twelvedata.com/docs">Twelve Dataâ€™s API documentation</a>.</p>

<h2 id="development">Development</h2>

<h3 id="running-tests">Running Tests</h3>

<p>```bash
# Run all tests
bundle exec rspec</p>

<h1 id="run-with-coverage">Run with coverage</h1>
<p>COVERAGE=true bundle exec rspec</p>

<h1 id="run-specific-test-file">Run specific test file</h1>
<p>bundle exec rspec spec/lib/twelvedata_ruby/client_spec.rb</p>

<h1 id="run-with-profile-information">Run with profile information</h1>
<p>PROFILE=true bundle exec rspec
```</p>

<h3 id="code-quality">Code Quality</h3>

<p>```bash
# Run RuboCop
bundle exec rubocop</p>

<h1 id="auto-fix-issues">Auto-fix issues</h1>
<p>bundle exec rubocop -A</p>

<h1 id="generate-documentation">Generate documentation</h1>
<p>bundle exec yard doc
```</p>

<h3 id="debugging-1">Debugging</h3>

<p>```ruby
# Enable debugging output
require â€˜pryâ€™</p>

<p>client = TwelvedataRuby.client(apikey: â€œyour-keyâ€)
response = client.quote(symbol: â€œAAPLâ€)</p>

<h1 id="debug-response">Debug response</h1>
<p>binding.pry</p>

<h1 id="inspect-request-details">Inspect request details</h1>
<p>puts response.request.to_h
puts response.request.full_url
puts response.request.query_params
```</p>

<h2 id="contributing">Contributing</h2>

<p>We welcome contributions! Please see our <a href="CONTRIBUTING.md">Contributing Guide</a> for details.</p>

<ol>
  <li>Fork the repository</li>
  <li>Create your feature branch (<code>git checkout -b feature/amazing-feature</code>)</li>
  <li>Make your changes with tests</li>
  <li>Run the test suite (<code>bundle exec rspec</code>)</li>
  <li>Run RuboCop (<code>bundle exec rubocop</code>)</li>
  <li>Commit your changes (<code>git commit -am 'Add amazing feature'</code>)</li>
  <li>Push to the branch (<code>git push origin feature/amazing-feature</code>)</li>
  <li>Open a Pull Request</li>
</ol>

<h2 id="release-process">Release Process</h2>

<h4 id="quick-release-guide">Quick Release Guide</h4>

<p>```bash
# 1. Prepare release
bin/release prepare â€“version 0.4.1</p>

<h1 id="push-changes">2. Push changes</h1>
<p>git push origin main</p>

<h1 id="create-github-release-with-tag-v041">3. Create GitHub release with tag v0.4.1</h1>
<p># â†’ Automatic publication to RubyGems.org via GitHub Actions
```</p>

<h4 id="release-helper-commands">Release Helper Commands</h4>

<p>```bash
# Check if ready for release
bin/release check</p>

<h1 id="auto-bump-version">Auto-bump version</h1>
<p>bin/release bump â€“type patch    # 0.4.0 â†’ 0.4.1
bin/release bump â€“type minor    # 0.4.0 â†’ 0.5.0
bin/release bump â€“type major    # 0.4.0 â†’ 1.0.0</p>

<h1 id="dry-run-test-without-changes">Dry run (test without changes)</h1>
<p>bin/release prepare â€“version 0.4.1 â€“dry-run
```</p>

<h4 id="github-workflows">GitHub Workflows</h4>

<ul>
  <li><strong>CI</strong>: Runs tests, linting, and security scans on every push/PR</li>
  <li><strong>Release</strong>: Automatically publishes to RubyGems.org when GitHub release is created</li>
  <li><strong>Documentation</strong>: Updates GitHub Pages with latest API docs</li>
</ul>

<h4 id="manual-release-advanced">Manual Release (Advanced)</h4>

<p><code>bash
# Trigger release workflow manually
gh workflow run release.yml \
  --field version=0.4.1 \
  --field dry_run=false
</code></p>

<h2 id="license">License</h2>

<p>This gem is available as open source under the terms of the <a href="LICENSE">MIT License</a>.</p>

<h2 id="code-of-conduct">Code of Conduct</h2>

<p>Everyone interacting in the TwelvedataRuby projectâ€™s codebases, issue trackers, chat rooms and mailing lists is expected to follow the <a href="CODE_OF_CONDUCT.md">code of conduct</a>.</p>

<h2 id="support">Support</h2>

<ul>
  <li>ğŸ“– <a href="https://kanutocd.github.io/twelvedata_ruby">API Documentation</a></li>
  <li>ğŸ› <a href="https://github.com/kanutocd/twelvedata_ruby/issues">Issue Tracker</a></li>
  <li>ğŸ“§ Email: kenneth.c.demanawa@gmail.com</li>
</ul>

<h2 id="changelog">Changelog</h2>

<p>See <a href="CHANGELOG.md">CHANGELOG.md</a> for version history and changes.</p>

<h2 id="notice">Notice</h2>

<p>This is not an official Twelve Data Ruby library. The author of this gem is not affiliated with Twelve Data in any way, shape or form. Twelve Data APIs and data are Copyright Â© 2024 Twelve Data Pte. Ltd.</p>

<hr />

<p><strong>Made with â¤ï¸ by the Ruby community</strong></p>
</div></div>

      <div id="footer">
  Generated on Sun Jul  6 23:38:34 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.4.2).
</div>

    </div>
  </body>
</html>