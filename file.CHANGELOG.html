<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: CHANGELOG
  
    &mdash; TwelvedataRuby Documentation
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "CHANGELOG";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: CHANGELOG</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1 id="changelog">Changelog</h1>

<p>All notable changes to this project will be documented in this file.</p>

<p>The format is based on <a href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</a>,
and this project adheres to <a href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p>

<h2 id="0-4-0-2024-07-02">[0.4.0] - 2024-07-02</h2>

<h3 id="major-refactoring-release">üöÄ Major Refactoring Release</h3>

<p>This release represents a refactor of the TwelvedataRuby gem with breaking changes for better maintainability and developer experience.</p>

<h3 id="breaking-changes">üí• Breaking Changes</h3>

<ul>
<li><strong>Ruby Version</strong>: Now requires Ruby 3.4.0+ (was 2.4+)</li>
<li><strong>Dependencies</strong>: Updated to modern versions

<ul>
<li><code>httpx</code> updated to <code>~&gt; 1.0</code> (was <code>~&gt; 0.14</code>)</li>
<li>All development dependencies updated to latest versions</li>
</ul></li>
<li><strong>Client Interface</strong>: Simplified client configuration API

<ul>
<li><code>TwelvedataRuby.client(**options)</code> now properly configures singleton instance</li>
<li>Removed deprecated <code>options=</code> writer in favor of <code>configure(**options)</code></li>
</ul></li>
<li><strong>Error Handling</strong>: Completely rewritten error hierarchy

<ul>
<li>More specific error classes for different failure scenarios</li>
<li>Better error messages with context</li>
<li>Proper error attributes for debugging</li>
</ul></li>
<li><strong>Utils Module</strong>: Refactored utility methods

<ul>
<li><code>to_d</code> renamed to <code>to_integer</code> with better error handling</li>
<li>Added <code>present?</code>, <code>blank?</code>, and improved helper methods</li>
<li>Better nil and edge case handling</li>
</ul></li>
</ul>

<h3 id="added">‚ú® Added</h3>

<ul>
<li><strong>Modern Ruby Support</strong>: Full Ruby 3.0+ compatibility with modern idioms</li>
<li><strong>Enhanced Error Classes</strong>:

<ul>
<li><code>ConfigurationError</code>, <code>NetworkError</code> for specific error types</li>
<li>Better inheritance hierarchy for <code>ResponseError</code> classes</li>
<li>Error objects now include original exceptions and debugging context</li>
</ul></li>
<li><strong>Improved Response Handling</strong>:

<ul>
<li>Better content type detection and parsing</li>
<li>Enhanced CSV handling with proper error recovery</li>
<li>File operations with better error handling</li>
<li>Response inspection and debugging methods</li>
</ul></li>
<li><strong>Better HTTP Client Integration</strong>:

<ul>
<li>Proper HTTPX configuration and error handling</li>
<li>Support for concurrent requests</li>
<li>Network timeout and connection error handling</li>
</ul></li>
<li><strong>Enhanced Testing</strong>:

<ul>
<li>100% test coverage with comprehensive specs</li>
<li>Proper HTTP request mocking with WebMock</li>
<li>Shared examples and contexts for better test organization</li>
<li>Edge case testing for all components</li>
</ul></li>
<li><strong>Development Tools</strong>:

<ul>
<li>RuboCop configuration with modern rules</li>
<li>GitHub Actions CI/CD pipeline</li>
<li>YARD documentation generation</li>
<li>SimpleCov coverage reporting</li>
</ul></li>
</ul>

<h3 id="changed">üîß Changed</h3>

<ul>
<li><strong>Client Class</strong>: Complete rewrite

<ul>
<li>Singleton pattern properly implemented</li>
<li>Better configuration management</li>
<li>Dynamic method definition with caching</li>
<li>Thread-safe operation</li>
</ul></li>
<li><strong>Endpoint Class</strong>: Enhanced validation and error reporting

<ul>
<li>Better parameter validation with detailed error messages</li>
<li>Improved format handling (JSON/CSV)</li>
<li>More robust parameter processing</li>
</ul></li>
<li><strong>Request Class</strong>: Cleaner API and better validation

<ul>
<li>Proper delegation to endpoint</li>
<li>Enhanced equality and hashing methods</li>
<li>Better debugging support with <code>inspect</code> and <code>to_s</code></li>
</ul></li>
<li><strong>Response Class</strong>: Major improvements in parsing and error handling

<ul>
<li>Robust JSON/CSV parsing with proper error recovery</li>
<li>Better large file handling with temporary files</li>
<li>Enhanced file operations and attachment handling</li>
<li>Improved debugging and inspection methods</li>
</ul></li>
</ul>

<h3 id="fixed">üêõ Fixed</h3>

<ul>
<li><strong>Memory Leaks</strong>: Proper resource cleanup in response handling</li>
<li><strong>Edge Cases</strong>: Better handling of nil values, empty responses, malformed data</li>
<li><strong>Concurrency</strong>: Thread-safe singleton client implementation</li>
<li><strong>Error Propagation</strong>: Proper error bubbling with context preservation</li>
<li><strong>Parameter Validation</strong>: More accurate validation with better error messages</li>
</ul>

<h3 id="documentation">üìö Documentation</h3>

<ul>
<li><strong>Complete README Rewrite</strong>: More examples and more API documentation</li>
<li><strong>YARD Documentation</strong>: Inline documentation for all public methods</li>
<li><strong>Error Handling Guide</strong>: Examples for most (if not all) error scenarios</li>
<li><strong>Advanced Usage</strong>: Concurrent requests, configuration options, debugging</li>
</ul>

<h3 id="testing">üß™ Testing</h3>

<ul>
<li><strong>Comprehensive Test Suite</strong>: 100% code coverage with RSpec</li>
<li><strong>Proper Mocking</strong>: WebMock integration for HTTP request stubbing</li>
<li><strong>Edge Case Coverage</strong>: Tests for error conditions, malformed data, network issues</li>
<li><strong>Performance Tests</strong>: Basic performance and memory usage validation</li>
<li><strong>Integration Tests</strong>: End-to-end API workflow testing</li>
</ul>

<h3 id="migration-guide">üîÑ Migration Guide</h3>

<h4 id="updating-dependencies">Updating Dependencies</h4>

<pre class="code ruby"><code class="ruby"><span class='comment'># In your Gemfile, update the Ruby version requirement
</span><span class='id identifier rubyid_ruby'>ruby</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&gt;= 3.4.0</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># Update the gem
</span><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>twelvedata_ruby</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>~&gt; 0.4.0</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<h4 id="client-configuration">Client Configuration</h4>

<pre class="code ruby"><code class="ruby"><span class='comment'># Before (0.3.x)
</span><span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="TwelvedataRuby.html" title="TwelvedataRuby (module)">TwelvedataRuby</a></span></span><span class='period'>.</span><span class='id identifier rubyid_client'><span class='object_link'><a href="TwelvedataRuby.html#client-class_method" title="TwelvedataRuby.client (method)">client</a></span></span>
<span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>apikey:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>key</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>connect_timeout:</span> <span class='int'>300</span> <span class='rbrace'>}</span>

<span class='comment'># After (0.4.x)
</span><span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="TwelvedataRuby.html" title="TwelvedataRuby (module)">TwelvedataRuby</a></span></span><span class='period'>.</span><span class='id identifier rubyid_client'><span class='object_link'><a href="TwelvedataRuby.html#client-class_method" title="TwelvedataRuby.client (method)">client</a></span></span><span class='lparen'>(</span><span class='label'>apikey:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>key</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>connect_timeout:</span> <span class='int'>300</span><span class='rparen'>)</span>
<span class='comment'># or
</span><span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="TwelvedataRuby.html" title="TwelvedataRuby (module)">TwelvedataRuby</a></span></span><span class='period'>.</span><span class='id identifier rubyid_client'><span class='object_link'><a href="TwelvedataRuby.html#client-class_method" title="TwelvedataRuby.client (method)">client</a></span></span>
<span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_configure'>configure</span><span class='lparen'>(</span><span class='label'>apikey:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>key</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>connect_timeout:</span> <span class='int'>300</span><span class='rparen'>)</span>
</code></pre>

<h4 id="error-handling">Error Handling</h4>

<pre class="code ruby"><code class="ruby"><span class='comment'># Before (0.3.x)
</span><span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_quote'>quote</span><span class='lparen'>(</span><span class='label'>symbol:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INVALID</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>if</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:errors</span><span class='rbracket'>]</span>
  <span class='comment'># handle endpoint errors
</span><span class='kw'>elsif</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_error'>error</span>
  <span class='comment'># handle API errors
</span><span class='kw'>end</span>

<span class='comment'># After (0.4.x)
</span><span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_quote'>quote</span><span class='lparen'>(</span><span class='label'>symbol:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INVALID</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>case</span> <span class='id identifier rubyid_response'>response</span>
<span class='kw'>when</span> <span class='const'>Hash</span>
  <span class='comment'># Handle validation errors
</span>  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:errors</span><span class='rbracket'>]</span>
<span class='kw'>when</span> <span class='const'><span class='object_link'><a href="TwelvedataRuby.html" title="TwelvedataRuby (module)">TwelvedataRuby</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TwelvedataRuby/Response.html" title="TwelvedataRuby::Response (class)">Response</a></span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_error'>error</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_error'>error</span>
    <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="TwelvedataRuby.html" title="TwelvedataRuby (module)">TwelvedataRuby</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TwelvedataRuby/UnauthorizedResponseError.html" title="TwelvedataRuby::UnauthorizedResponseError (class)">UnauthorizedResponseError</a></span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid API key</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="TwelvedataRuby.html" title="TwelvedataRuby (module)">TwelvedataRuby</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TwelvedataRuby/NotFoundResponseError.html" title="TwelvedataRuby::NotFoundResponseError (class)">NotFoundResponseError</a></span></span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Symbol not found</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_parsed_body'>parsed_body</span>
  <span class='kw'>end</span>
<span class='kw'>when</span> <span class='const'><span class='object_link'><a href="TwelvedataRuby.html" title="TwelvedataRuby (module)">TwelvedataRuby</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TwelvedataRuby/NetworkError.html" title="TwelvedataRuby::NetworkError (class)">NetworkError</a></span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Network connectivity issue</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<h4 id="utils-methods">Utils Methods</h4>

<pre class="code ruby"><code class="ruby"><span class='comment'># Before (0.3.x)
</span><span class='const'><span class='object_link'><a href="TwelvedataRuby.html" title="TwelvedataRuby (module)">TwelvedataRuby</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TwelvedataRuby/Utils.html" title="TwelvedataRuby::Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_d'>to_d</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>

<span class='comment'># After (0.4.x)
</span><span class='const'><span class='object_link'><a href="TwelvedataRuby.html" title="TwelvedataRuby (module)">TwelvedataRuby</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TwelvedataRuby/Utils.html" title="TwelvedataRuby::Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_integer'><span class='object_link'><a href="TwelvedataRuby/Utils.html#to_integer-class_method" title="TwelvedataRuby::Utils.to_integer (method)">to_integer</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>
</code></pre>

<h2 id="0-3-0-2021-07-15">[0.3.0] - 2021-07-15</h2>

<h3 id="added">Added</h3>

<ul>
<li>Initial stable release</li>
<li>Basic API endpoint support</li>
<li>JSON and CSV response formats</li>
<li>Simple error handling</li>
<li>Ruby 2.4+ support</li>
</ul>

<h3 id="dependencies">Dependencies</h3>

<ul>
<li><code>httpx ~&gt; 0.14.5</code></li>
<li>Basic development dependencies</li>
</ul>

<hr>

<h2 id="unreleased">[Unreleased]</h2>

<h3 id="planned">Planned</h3>

<ul>
<li>Performance optimizations</li>
<li>Additional endpoint coverage</li>
<li>Enhanced WebSocket support (if available from Twelve Data)</li>
<li>Caching mechanisms for frequent requests</li>
</ul>

<hr>

<p><strong>Note</strong>: This changelog follows semantic versioning. Major version bumps indicate breaking changes, minor versions add functionality, and patch versions fix bugs.</p>
</div></div>

      <div id="footer">
  Generated on Sun Jul  6 16:04:16 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.4.2).
</div>

    </div>
  </body>
</html>